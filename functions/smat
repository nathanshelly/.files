#! /usr/bin/env bash

# render given args with best available command
render_args() {
  # use `glow` when passed a single markdown file
  # TODO: use `glow` w/ multiple files all are `*.md`
  [[ -z $2 ]] && [[ $1 =~ \.md$ ]] && command -v glow > /dev/null && {
    # `--pager` applies the pager defined in $PAGER (default of `less -R`)
    glow --pager "$1"
    return
  }

  local bat_or_cat
  command -v bat > /dev/null && bat_or_cat="bat" || bat_or_cat="cat"
  "$bat_or_cat" "$@"
}

render_args "$@"
