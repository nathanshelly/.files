#! /usr/bin/env bash

# check that DOTFILES variable is defined
# shellcheck disable=SC1090
source "${BASH_SOURCE%/*}/../lib/check_dotfiles_variable.sh"

# installation script
# ref - https://brew.sh/
command -v brew > /dev/null 2>&1 || {
  sh -c "$(curl -fsSL https://raw.githubusercontent.com/Linuxbrew/install/master/install.sh)"
  # TODO: remove hardcoding
  eval "$(/home/dot/.linuxbrew/bin/brew shellenv 2> /dev/null)"
}

cd "$DOTFILES" || {
  echo "failed to \`cd\` to $DOTFILES, \`brew bundle\` not run"
  exit 1
}
brew bundle
