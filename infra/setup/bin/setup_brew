#! /usr/bin/env bash

# check that DOTFILES variable is defined
# shellcheck disable=SC1090
source "${BASH_SOURCE%/*}/../check_dotfiles_variable.sh"

source "$DOTFILES/infra/scripts/prompts.sh"

# installation
command -v brew > /dev/null || {
  # ref - https://brew.sh/
  /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
}

cd "$DOTFILES" || {
  echo "failed to \`cd\` to $DOTFILES, \`brew bundle\` not run"
  exit 1
}

brew bundle

success "installed packages"
